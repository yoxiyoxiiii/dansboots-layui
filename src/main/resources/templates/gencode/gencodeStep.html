<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/layout/header :: common_head(~{::title},~{::link})">
<body>
<div  style="padding-left: 20px" th:fragment="content">
    <input th:value="${tableName}" name="tableName" id="tableName">
    <div class="layui-fluid">
        <div class="layui-card">
            <div class="layui-card-body" style="padding-top: 40px;">
                <div class="layui-carousel" id="stepForm" lay-filter="stepForm" style="margin: 0 auto;">
                    <div carousel-item>
                        <div>
                            <form class="layui-form" style="margin: 0 auto;padding-top: 40px;">
                                <table id="menuListTable" class="layui-table" lay-filter="menuListTable"></table>
                                <div class="layui-form-item">
                                    <div class="layui-input-block">
                                        <button class="layui-btn" lay-submit lay-filter="formStep">
                                            &emsp;下一步&emsp;
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div>
                            <form class="layui-form" style="margin: 0 auto;max-width: 460px;padding-top: 40px;">
                                <div class="layui-form-item">
                                    <label class="layui-form-label">游戏ID:</label>
                                    <div class="layui-input-block">
                                        <div class="layui-form-mid layui-word-aux">639537</div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">账户余额:</label>
                                    <div class="layui-input-block">
                                        <div class="layui-form-mid layui-word-aux">3000 元（保险箱：1000，现金：2000）</div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">入款金额:</label>
                                    <div class="layui-input-block">
                                        <div class="layui-form-mid layui-word-aux">
                                            <span style="font-size: 18px;color: #333;">1800 元</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">入款类型:</label>
                                    <div class="layui-input-block">
                                        <div class="layui-form-mid layui-word-aux">保险箱</div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">入款方式:</label>
                                    <div class="layui-input-block">
                                        <div class="layui-form-mid layui-word-aux">人工入款</div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">备注说明:</label>
                                    <div class="layui-input-block">
                                        <div class="layui-form-mid layui-word-aux">备注说明</div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <div class="layui-input-block">
                                        <button type="button" class="layui-btn layui-btn-primary pre">上一步</button>
                                        <button class="layui-btn" lay-submit lay-filter="formStep2">
                                            &emsp;确认入款&emsp;
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div>
                            <div style="text-align: center;margin-top: 90px;">
                                <i class="layui-icon layui-circle"
                                   style="color: white;font-size:30px;font-weight:bold;background: #52C41A;padding: 20px;line-height: 80px;">&#xe605;</i>
                                <div style="font-size: 24px;color: #333;font-weight: 500;margin-top: 30px;">
                                    入款成功
                                </div>
                                <div style="font-size: 14px;color: #666;margin-top: 20px;">预计两小时到账</div>
                            </div>
                            <div style="text-align: center;margin-top: 50px;">
                                <button class="layui-btn next">再入一笔</button>
                                <button class="layui-btn layui-btn-primary">查看账单</button>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>


</div>
<div th:replace="/layout/script::js_footer(~{::title},~{::script})"></div>
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="gencode">生成代碼</a>
</script>

<script>
    var $ = layui.$;
    layui.config({
        base: '/lay/modules/'
    }).extend({
        step: 'step-lay/step'
    });
    layui.use([ 'form', 'step'], function () {
        var $ = layui.$
            , form = layui.form
            , step = layui.step;
        step.render({
            elem: '#stepForm',
            filter: 'stepForm',
            width: '100%', //设置容器宽度
            stepWidth: '750px',
            height: '500px',
            stepItems: [{
                title: '設置列屬性'
            }, {
                title: '選擇模板'
            }, {
                title: '生成代碼'
            }]
        });

        form.on('submit(formStep)', function (data) {
            step.next('#stepForm');
            return false;
        });

        form.on('submit(formStep2)', function (data) {
            step.next('#stepForm');
            return false;
        });

        $('.pre').click(function () {
            step.pre('#stepForm');
        });

        $('.next').click(function () {
            step.next('#stepForm');
        });
    });
    var table = layui.table;
    var tableName = $("#tableName").val();
    console.log(tableName);
    //第一个实例
    table.render({
        elem: '#menuListTable'
        ,toolbar: '#toolbarDemo'
        ,url: '/api/gencode/columnList'//数据接口
        ,method: 'get'
        ,where: {'tableName':tableName}
        ,type: 'json'
        ,page: false //开启分页
        ,id: 'testReload'
        ,cols: [
            [ //表头
                {type: 'checkbox', fixed: 'left'}
                ,{field: 'name', title: '列名'}
                ,{field: 'type', title: '类型'}
                ,{field: 'remark', title: '注解'}
                ,{fixed: 'right', title:'操作', toolbar: '#barDemo', width:200}
            ]
        ]
    });
</script>
</body>
</html>